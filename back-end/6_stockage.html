<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Dev back-end</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div style="position: absolute;z-index:999;padding:0.5rem;"><a href=".."><strong>&nbsp;←</strong></a></div>
    <div class="slides">
        <section>
            <h1>Dev back-end</h1>
            <h1 class="small">Stockage de données</h1>
        </section>
        <section>
            <h2>Objectifs</h2>
            <ul>
                <li>Connaître les différentes technologies disponibles et leurs avantages respectifs</li>
                <li>Mettre en place une solution de stockage de données</li>
                <li>Comprendre les enjeux et difficultés spécifiques au stockage</li>
            </ul>
        </section>
        <section>
            <section>
                <h2>Cache et invalidation de cache</h2>
            </section>
            <section>
                <blockquote>There are only two hard things in Computer Science: cache invalidation and naming things.
                    <footer>—Phil Karlton</footer>
                </blockquote>
                <div>Il n'y a que 2 choses difficiles en informatique, l'invalidation de cache et nommer les choses.
                </div>
            </section>
            <section>
                <h3>Mettre en cache</h3>
                <div>Mettre en cache consiste à stocker une données calculée en mémoire pour pouvoir la relire sans la
                    recalculer dans le but d'améliorer les performances de l'application.
                </div>
            </section>
            <section>
                <h3>Le danger</h3>
                <div>Le danger du cache: Lorsqu'une des données utilisée pour le calcul change, alors le cache devient
                    obsolète et il doit être recalculé.
                </div>
            </section>
            <section>
                <h3>Invalidation</h3>
                <div class="small"><p>L'idée générale consiste à mettre en place une mécanique d'invalidation du cache
                    lorsqu'on détecte son obsolescence.</p>
                    <div class="ta-left">Le cache invalidé pourra être recalculé :<br/>
                        <ul>
                            <li>à sa prochaine tentative de lecture
                                <ul class="smaller">
                                    <li>intéressant si la donnée a peu de
                                        chance d'être relue, si l'invalidation est provoquée par une action humaine,
                                        ou s'il y a
                                        beaucoup de caches à recalculer (ce qui peut être très long à faire en une seule
                                        fois et peut bloquer des
                                        ressources matérielles).
                                    </li>
                                </ul>
                            </li>
                            <li>dès l'invalidation
                                <ul class="smaller">
                                    <li>permet d'accélérer l'accès des prochains utilisateurs.
                                        C'est utile lorsque l'invalidation est provoquée de manière automatique par un
                                        robot (et non
                                        par un utilisateur humain), de sorte que l'expérience utilisateur soit la
                                        meilleure possible.
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="smaller ta-left" style="padding-top: 1rem">Parfois le cache doit être invalidé et réutilisé
                    immédiatement, Il n'y a alors aucune
                    différence entre les 2 approches.
                </div>
            </section>
            <section>
                <h3>Stratégies d'invalidation</h3>
                <ul>
                    <li>Automatiser le recalcul du cache lors d'une mise à jour d'une donnée source, il s'agit de <a
                            href="https://fr.wikipedia.org/wiki/Programmation_r%C3%A9active">Programmation réactive</a>.
                        <ul>
                            <li class="small">Ex: <a
                                    href="https://medium.com/machine-words/introduction-to-reactive-programming-using-mobx-2c032cac818e">MobX</a>,
                                <a href="https://putaindecode.io/articles/la-programmation-reactive-avec-rxjs/">ReactiveX</a>
                            </li>
                        </ul>
                    </li>
                    <li>Invalider après une date d'expiration.
                        <ul>
                            <li class="small">
                                Ex: Une donnée pour laquelle une mise à jour légèrement différée n'est pas génantes.
                            </li>
                        </ul>
                    </li>
                    <li>Invalider manuellement.
                        <ul>
                            <li class="small">
                                Lorsque le développeur maitrise le moment où l'obsolescence est créée.
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
            <section>
                <h3>Emplacement du cache</h3>
                <div class="small">
                    On surveillera : <br/>
                    <ul>
                        <li>Les variables persistantes dans la durée (static, singletons, variables de classe)</li>
                        <li>Les fichiers temporaires ou fichiers de cache (ex: rendus html exportés en fichier)</li>
                        <li>Toutes les données calculées à partir d'une autre source</li>
                    </ul>
                </div>
                <p class="small">Pour toute donnée calculée il est important de connaître exhaustivement ses sources.
                    Sinon l'invalidation n'est plus possible et on peut se retrouver avec des bugs de données
                    incohérentes.</p>

            </section>
        </section>
        <section>
            <section><h2><a href="7_prog.html#/2">mémoire applicative</a></h2></section>
        </section>
    </div>
</div>


<script src="js/reveal.js"></script>
<script src="plugin/markdown/marked.js"></script>
<script src="plugin/markdown/markdown.js"></script>

<script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies

    Reveal.initialize({
        history: true,
        dependencies: [
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            }
        ],
        markdown: {
            sanitize: false,
            smartypants: false,
        }
    });


</script>
</body>
</html>
