<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Dev back-end</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div style="position: absolute;z-index:999;padding:0.5rem;"><a href="."><strong>&nbsp;←</strong></a></div>
    <div class="slides">
        <section>
            <h1>Dev back-end</h1>
            <h1 class="small">Programmation</h1>
        </section>
        <section>
            <h2>Objectifs</h2>
            <ul>
                <li>Connaître les fondamentaux de la programmation</li>
            </ul>
        </section>
        <section>
            <section><h2>La mémoire applicative</h2></section>
            <section>
                <div class="small">La mémoire applicative est volatile. L'application peut être interrompue et relancée
                    à tout instant.
                </div>
            </section>
            <section>
                <h3>Le tas et la pile</h3>
                <div class="smaller">
                    Ce sont 2 espaces memoire:
                    <ul>
                        <li>Le stack (la pile) est utilisé entre autre pour les variables dites "automatique", en gros
                            les
                            variables dont on connais toutes les informations (type, taille) à la compilation.
                        </li>
                        <li>Le heap (le tas) est utilisé pour les variables dites "dynamique", soit les variables dont
                            on ne
                            connais les informations qu'a l'execution.
                        </li>
                    </ul>
                </div>
                <a href="https://www.diagram.codes/d/sequence/alias%20c%3D%22Code%22%0Aalias%20h%3D%22Heap%22%0Aalias%20s%3D%22Stack%22%0Ac-%3Ec%3A%20%22public%20void%20main()%20%7B%22%0Ac-%3Es%3A%20%22int%20age%20%3D%205%3B%22%0As-%3Es%3A%20%22age%3D5%22%0Ac-%3Es%3A%20%22string%20name%20%3D%20'Ana%C3%A9'%3B%22%0As-%3Es%3A%20%22name%3D'Ana%C3%A9'%22%0Ac-%3Es%3A%20%22Person%20p%20%3D%20new%20Person(name%2C%20age)%3B%22%0As-%3Eh%3A%20%22allocate%22%0Ah-%3Eh%3A%20%22Person('Ana%C3%A9'%2C5)%22%0Ah-%3Es%3A%20%22p%3Dref(Person)%22%0Ac-%3Ec%3A%20%22%7D%22">
                    <svg xmlns="http://www.w3.org/2000/svg" id="mainsvg" width="529.7500019073486" height="371"
                         viewBox="-10 -10 529.7500019073486 371">
                        <defs>
                            <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="6"
                                    orient="auto-start-reverse">
                                <path d="M 0 0 L 10 5 L 0 10 z"/>
                            </marker>
                            <filter id="shadowfilter" x="-20%" y="-20%" width="150%" height="150%"
                                    filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse"
                                    color-interpolation-filters="linearRGB">
                                <feDropShadow stdDeviation="4 4" in="SourceGraphic" dx="1" dy="1" flood-color="#BABABA"
                                              flood-opacity="0.9" x="0%" y="0%" width="100%" height="100%"
                                              result="dropShadow"/>
                            </filter>
                            <filter id="shadowfilter2" x="0" y="0" width="200%" height="200%"
                                    filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                <feColorMatrix in="SourceAlpha" type="matrix"
                                               values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>
                                <feOffset dy="4" dx="2"/>
                                <feGaussianBlur stdDeviation="2"/>
                                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                                <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>
                                <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>
                            </filter>
                        </defs>
                        <g transform="translate(0, 0)">
                            <rect width="53.766666412353516" height="37" stroke="#555656" fill="white"
                                  stroke-width="1.3" transform="translate(0, 0)" rx="2" filter="url(#shadowfilter)"/>
                            <text fill="black" font-size="16" font-weight="normal" transform="translate(10, 10)"
                                  alignment-baseline="middle" font-family="Bookman">
                                <tspan x="0" dy="16">Code</tspan>
                            </text>
                        </g>
                        <g transform="translate(247.54166793823242, 0)">
                            <rect width="55.54999923706055" height="37" stroke="#555656" fill="white" stroke-width="1.3"
                                  transform="translate(0, 0)" rx="2" filter="url(#shadowfilter)"/>
                            <text fill="black" font-size="16" font-weight="normal" transform="translate(10, 10)"
                                  alignment-baseline="middle" font-family="Bookman">
                                <tspan x="0" dy="16">Stack</tspan>
                            </text>
                        </g>
                        <g transform="translate(376.3416690826416, 0)">
                            <rect width="53.75" height="37" stroke="#555656" fill="white" stroke-width="1.3"
                                  transform="translate(0, 0)" rx="2" filter="url(#shadowfilter)"/>
                            <text fill="black" font-size="16" font-weight="normal" transform="translate(10, 10)"
                                  alignment-baseline="middle" font-family="Bookman">
                                <tspan x="0" dy="16">Heap</tspan>
                            </text>
                        </g>
                        <path d="M 26.883333206176758,49 L 36.88333320617676 49 L 36.88333320617676 66 L 26.883333206176758 66"
                              fill="none" stroke="black" stroke-dasharray="none" stroke-width="1"
                              marker-end="url(#arrow)"/>
                        <path d="M 26.883333206176758,99 L 275.3166675567627 99" fill="none" stroke="black"
                              stroke-dasharray="none" stroke-width="1" marker-end="url(#arrow)"/>
                        <path d="M 275.3166675567627,107 L 285.3166675567627 107 L 285.3166675567627 124 L 275.3166675567627 124"
                              fill="none" stroke="black" stroke-dasharray="none" stroke-width="1"
                              marker-end="url(#arrow)"/>
                        <path d="M 26.883333206176758,157 L 275.3166675567627 157" fill="none" stroke="black"
                              stroke-dasharray="none" stroke-width="1" marker-end="url(#arrow)"/>
                        <path d="M 275.3166675567627,165 L 285.3166675567627 165 L 285.3166675567627 182 L 275.3166675567627 182"
                              fill="none" stroke="black" stroke-dasharray="none" stroke-width="1"
                              marker-end="url(#arrow)"/>
                        <path d="M 26.883333206176758,215 L 275.3166675567627 215" fill="none" stroke="black"
                              stroke-dasharray="none" stroke-width="1" marker-end="url(#arrow)"/>
                        <path d="M 275.3166675567627,244 L 403.2166690826416 244" fill="none" stroke="black"
                              stroke-dasharray="none" stroke-width="1" marker-end="url(#arrow)"/>
                        <path d="M 403.2166690826416,252 L 413.2166690826416 252 L 413.2166690826416 269 L 403.2166690826416 269"
                              fill="none" stroke="black" stroke-dasharray="none" stroke-width="1"
                              marker-end="url(#arrow)"/>
                        <path d="M 403.2166690826416,302 L 275.3166675567627 302" fill="none" stroke="black"
                              stroke-dasharray="none" stroke-width="1" marker-end="url(#arrow)"/>
                        <path d="M 26.883333206176758,310 L 36.88333320617676 310 L 36.88333320617676 327 L 26.883333206176758 327"
                              fill="none" stroke="black" stroke-dasharray="none" stroke-width="1"
                              marker-end="url(#arrow)"/>
                        <path d="M 26.883333206176758,37 L 26.883333206176758 351" fill="none" stroke="black"
                              stroke-dasharray="none" stroke-width="1"/>
                        <path d="M 275.3166675567627,37 L 275.3166675567627 351" fill="none" stroke="black"
                              stroke-dasharray="none" stroke-width="1"/>
                        <path d="M 403.2166690826416,37 L 403.2166690826416 351" fill="none" stroke="black"
                              stroke-dasharray="none" stroke-width="1"/>
                        <g transform="translate(38.88333320617676, 49)">
                            <rect width="116.4000015258789" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">public void main() {</tspan>
                            </text>
                        </g>
                        <g transform="translate(118.35833358764648, 78)">
                            <rect width="65.48333358764648" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">int age = 5;</tspan>
                            </text>
                        </g>
                        <g transform="translate(287.3166675567627, 107)">
                            <rect width="36.33333206176758" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">age=5</tspan>
                            </text>
                        </g>
                        <g transform="translate(90.5666675567627, 136)">
                            <rect width="121.06666564941406" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">string name = 'Anaé';</tspan>
                            </text>
                        </g>
                        <g transform="translate(287.3166675567627, 165)">
                            <rect width="74.80000305175781" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">name='Anaé'</tspan>
                            </text>
                        </g>
                        <g transform="translate(50.88333320617676, 194)">
                            <rect width="200.43333435058594" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">Person p = new Person(name, age);</tspan>
                            </text>
                        </g>
                        <g transform="translate(316.5083351135254, 223)">
                            <rect width="45.516666412353516" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">allocate</tspan>
                            </text>
                        </g>
                        <g transform="translate(415.2166690826416, 252)">
                            <rect width="94.53333282470703" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">Person('Anaé',5)</tspan>
                            </text>
                        </g>
                        <g transform="translate(299.3166675567627, 281)">
                            <rect width="79.9000015258789" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">p=ref(Person)</tspan>
                            </text>
                        </g>
                        <g transform="translate(38.88333320617676, 310)">
                            <rect width="8.71666669845581" height="17" stroke="none" fill="white" stroke-width="1"
                                  transform="translate(0, 0)" rx="5"/>
                            <text fill="black" font-size="14" font-weight="normal" transform="translate(1, 1)"
                                  alignment-baseline="middle">
                                <tspan x="0" dy="14">}</tspan>
                            </text>
                        </g>
                    </svg>
                </a>
            </section>
            <section>
                <ul>
                    <li><a href="https://waytolearnx.com/2019/03/difference-entre-tas-et-pile.html">https://waytolearnx.com/2019/03/difference-entre-tas-et-pile.html</a>
                    </li>
                    <li>
                        <a href="https://www.journaldunet.fr/web-tech/developpement/1202909-que-sont-la-pile-stack-et-le-tas-heap/">https://www.journaldunet.fr/web-tech/developpement/1202909-que-sont-la-pile-stack-et-le-tas-heap/</a>
                    </li>
                </ul>
            </section>
            <section><h3>Gestion de la mémoire</h3>
                <a href="https://beta.hackndo.com/memory-allocation/">Allocation de la mémoire</a>
            </section>
        </section>
        <section>
            <section><h2>Le callback (fonction de rappel)</h2></section>
            <section>
                <pre><code class="hljs">// test de parité
function isEven(num){
  return num%2 == 0;
}
var evens = [0,1,2,3,4,5,6,7,8,9,10].filter(isEven);
console.log(evens);</code></pre>
                <ul>
                    <li>filter attends une fonction de rappel</li>
                    <li>Cette fonction doit retourner vrai (garder) au faux (omettre) pour filter les éléments d'un
                        tableau
                    </li>
                    <li>Ici elle est appelée pour chacun des éléments du tableau</li>
                </ul>
            </section>
            <section>
                <pre><code class="hljs">// Exemple d'implémentation
Array.prototype.filter = function filter(shouldBeKept){
  var result = []
  for(var i = 0; i < this.length; i++) {
    var iValue = this[i]
    if (shouldBeKept(iValue)) {
      result.push(iValue)
    }
  }
  return result
}
var evens = [0,1,2,3,4,5,6,7,8,9,10].filter(num => num%2 == 0);
console.log(evens);</code></pre>
                <ul>
                    <li><code>shouldBeKept</code> est la fonction de callback</li>
                    <li>Dans une fonction de prototype, <code>this</code> est l'objet sur lequel on applique la méthode</li>
                </ul>
            </section>
        </section>
        <section>
            <section><h2>Closures (fermetures)</h2></section>
            <section>
                <a href="https://developer.mozilla.org/fr/docs/Web/JavaScript/Closures">https://developer.mozilla.org/fr/docs/Web/JavaScript/Closures</a>
            </section>
        </section>
        <section>
            <section>
                <h2>Cache et invalidation de cache</h2>
            </section>
            <section>
                <blockquote>There are only two hard things in Computer Science: cache invalidation and naming things.
                    <footer>—Phil Karlton</footer>
                </blockquote>
                <div>Il n'y a que 2 choses difficiles en informatique, l'invalidation de cache et nommer les choses.
                </div>
            </section>
            <section>
                <h3>Mettre en cache</h3>
                <div>Mettre en cache consiste à stocker une données calculée en mémoire pour pouvoir la relire sans la
                    recalculer dans le but d'améliorer les performances de l'application.
                </div>
            </section>
            <section>
                <h3>Le danger</h3>
                <div>Le danger du cache: Lorsqu'une des données utilisée pour le calcul change, alors le cache devient
                    obsolète et il doit être recalculé.
                </div>
            </section>
            <section>
                <h3>Invalidation</h3>
                <div class="small"><p>L'idée générale consiste à mettre en place une mécanique d'invalidation du cache
                    lorsqu'on détecte son obsolescence.</p>
                    <div class="ta-left">Le cache invalidé pourra être recalculé :<br/>
                        <ul>
                            <li>à sa prochaine tentative de lecture
                                <ul class="smaller">
                                    <li>intéressant si la donnée a peu de
                                        chance d'être relue, si l'invalidation est provoquée par une action humaine,
                                        ou s'il y a
                                        beaucoup de caches à recalculer (ce qui peut être très long à faire en une seule
                                        fois et peut bloquer des
                                        ressources matérielles).
                                    </li>
                                </ul>
                            </li>
                            <li>dès l'invalidation
                                <ul class="smaller">
                                    <li>permet d'accélérer l'accès des prochains utilisateurs.
                                        C'est utile lorsque l'invalidation est provoquée de manière automatique par un
                                        robot (et non
                                        par un utilisateur humain), de sorte que l'expérience utilisateur soit la
                                        meilleure possible.
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

                <div class="smaller ta-left" style="padding-top: 1rem">Parfois le cache doit être invalidé et réutilisé
                    immédiatement, Il n'y a alors aucune
                    différence entre les 2 approches.
                </div>
            </section>
            <section>
                <h3>Stratégies d'invalidation</h3>
                <ul>
                    <li>Automatiser le recalcul du cache lors d'une mise à jour d'une donnée source, il s'agit de <a
                            href="https://fr.wikipedia.org/wiki/Programmation_r%C3%A9active">Programmation réactive</a>.
                        <ul>
                            <li class="small">Ex: <a
                                    href="https://medium.com/machine-words/introduction-to-reactive-programming-using-mobx-2c032cac818e">MobX</a>,
                                <a href="https://putaindecode.io/articles/la-programmation-reactive-avec-rxjs/">ReactiveX</a>
                            </li>
                        </ul>
                    </li>
                    <li>Invalider après une date d'expiration.
                        <ul>
                            <li class="small">
                                Ex: Une donnée pour laquelle une mise à jour légèrement différée n'est pas génantes.
                            </li>
                        </ul>
                    </li>
                    <li>Invalider manuellement.
                        <ul>
                            <li class="small">
                                Lorsque le développeur maitrise le moment où l'obsolescence est créée.
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
            <section>
                <h3>Emplacement du cache</h3>
                <div class="small">
                    On surveillera : <br/>
                    <ul>
                        <li>Les variables persistantes dans la durée (static, singletons, variables de classe)</li>
                        <li>Les fichiers temporaires ou fichiers de cache (ex: rendus html exportés en fichier)</li>
                        <li>Toutes les données calculées à partir d'une autre source</li>
                    </ul>
                </div>
                <p class="small">Pour toute donnée calculée il est important de connaître exhaustivement ses sources.
                    Sinon l'invalidation n'est plus possible et on peut se retrouver avec des bugs de données
                    incohérentes.</p>

            </section>
        </section>
        <section>
            <section><h2>Nommer les choses</h2></section>
            <section>
                <blockquote>There are only two hard things in Computer Science: cache invalidation and naming things.
                    <footer>—Phil Karlton</footer>
                </blockquote>
                <div>Il n'y a que 2 choses difficiles en informatique, l'invalidation de cache et nommer les choses.
                </div>
            </section>
            <section>
                <ul class="small">
                    <li>Utiliser un nommage ennuyeux, simple. Le stagiaire doit comprendre.</li>
                    <li>Doit exprimer le but, l'objectif et comment il est utilisée.</li>
                    <li>Être aussi précis et lisible que possible.</li>
                    <li>Être cohérent, discuter des règles en équipe.</li>
                    <li>Classe: Décrire sa responsabilité (découper la classe si plusieurs responsabilités).</li>
                    <li>Fonction: Utiliser un verbe d'action (découper si plusieurs fontions).</li>
                    <li>Ne pas répéter l'arborescence (ex: <code>form/Login</code>, <s><code>form/LoginForm</code></s>.</li>
                    <li>Eviter les accronymes et les contractions</li>
                    <li>Eviter le type (ex: <s><code>birthdayDate</code></s>, <s><code>birthdayStr</code></s> => <code>birthday</code>)</li>
                    <li>Utiliser l'<a href="https://www.wordreference.com/fren/">anglais</a>. </li>
                </ul>
            </section>
        </section>
    </div>
</div>


<script src="js/reveal.js"></script>
<script src="plugin/markdown/marked.js"></script>
<script src="plugin/markdown/markdown.js"></script>

<script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies

    Reveal.initialize({
        history: true,
        dependencies: [
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            }
        ],
        markdown: {
            sanitize: false,
            smartypants: false,
        }
    });


</script>
</body>
</html>
