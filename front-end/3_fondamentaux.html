<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Dev front-end</title>

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/white.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<div class="reveal">
    <div style="position: absolute;z-index:999;padding:0.5rem;"><a href="."><strong>&nbsp;‚Üê</strong></a></div>
    <div class="slides">
        <section>
            <h1>Dev front-end</h1>
            <h1 class="small">Fondamentaux</h1>
        </section>
        <section>
            <section><h2>Le Front-end</h2></section>
            <section>
                <ul>
                    <li>On parle de d√©veloppement Front-end pour d√©signer des applications clientes, c'est √† dire qui
                        sont ex√©cut√©es sur la machine de l'utilisateur.
                    </li>
                    <li>Par opposition, le d√©veloppement Back-end fait r√©f√©rence aux applications qui sont ex√©cut√©es sur
                        des serveurs distants.
                    </li>
                </ul>
            </section>
            <section>
                <ul>
                    <li>On parle parfois de client l√©ger ou de client lourd.
                        <ul>
                            <li>Le client l√©ger est une application qui fonctionne via un navigateur.</li>
                            <li>Le client lourd est une application qui fonctionne via le syst√®me d'exploitation.</li>
                            <li>Malgr√© leur nom, les clients lourds sont <em>g√©n√©ralement</em> plus performants du fait
                                de leur code natif mieux optimis√©
                            </li>
                            <li>On pourra pr√©f√©rer les appeler applications natives (native apps) et applications web
                                (web apps).
                            </li>
                        </ul>
                    </li>
                    <li>Le Front-end peut faire r√©f√©rence √† ces 2 types d'applications, mais le d√©veloppement Front-end
                        d√©signe tr√®s g√©n√©ralement le d√©veloppement d'applications web.
                    </li>
                </ul>
            </section>
        </section>
        <section>
            <section><h2>HTML - CSS - JS</h2></section>
            <section>
                <ul>
                    <li>Il n'y a pas de diff√©rence technique entre un site web et une application web.</li>
                    <li>La seule diff√©rence est celle du propos : une application rends un service, une site web apporte
                        de l'information.
                    </li>
                    <li>La fronti√®re est souvent floue et n'a pas d'importance pour le d√©veloppement.</li>
                </ul>
            </section>
            <section>
                <h3>index.html</h3>
                <pre><code style="font-size: 1.2rem;line-height: 1.4" data-trim class="html">
                &lt;html>
                    &lt;head>
                        &lt;title>Ma Page&lt;/title>
                    <!-- Fichier de style qui sera charg√© puis pris en compte -->
                        <link rel="stylesheet" href="css/styles.css">
                    &lt;/head>
                    &lt;body>
                        &lt;div>Le contenu de ma page&lt;/div>

                    <!-- Fichier JavaScript qui sera charg√© puis ex√©cut√© -->
                        &lt;script type="text/javascript" src="main.js">&lt;/script>

                    <!-- JavaScript int√©gr√© au html, ex√©cut√© imm√©diatement -->
                        &lt;script type="text/javascript">
                            // ici mon code javascript
                        &lt;/script>
                    &lt;/body>
                &lt;/html>
                </code></pre>
            </section>
            <section class="small">
                <ul class="smaller">
                    <li>index.html est par convention la premi√®re page charg√©e lorsqu'aucun document n'est pr√©cis√©.</li>
                    <li>Par convention, on appellera notre fichier JS principal "main.js" ou "app.js".<br/>
                        On pourra le ranger dans un sous dossier relativement √† la page html.
                    </li>
                    <li>Par convention, on appeller notre fichier CSS principal "styles.css".<br/>
                        On pourra le ranger dans un sous dossier relativement √† la page html.
                    </li>
                    <li>On utilise des chemins relatifs pour rattacher les fichiers entre eux.
                        <ul>
                            <li><code>href="css/styles.css"</code> pour acc√©der √† <code>styles.css</code> depuis <code>index.html</code>
                            </li>
                            <li><code>src="js/main.js"</code> pour acc√©der √† <code>main.js</code> depuis <code>index.html</code>
                            </li>
                            <li><code>background-image: url(../images/header.jpg)</code> pour acc√©der √† une image depuis
                                <code>styles.css</code></li>
                        </ul>
                    </li>
                </ul>
                <div>
                    <br/>
                    <div>
                        Arborescence finale :
                    </div>
                    <code>
                        <ul class="small">
                            <li>projet/index.html</li>
                            <li>projet/js/main.js</li>
                            <li>projet/css/styles.css</li>
                            <li>projet/images/&lt;fichiers images></li>
                        </ul>
                    </code>
                </div>
            </section>
            <section>
                <h3>Point de vue du navigateur web</h3>
                <ul class="small">
                    <li>Le HTML est transform√© en DOM</li>
                    <li>Le DOM est un arbre, c'est √† dire un objet qui contient des sous objets, et qui d√©crit ce que le
                        navigateur doit afficher
                    </li>
                    <li>Le DOM contient 100% des infos dont le navigateur a besoin pour calculer le rendu</li>
                    <li>Le DOM peut √™tre modifi√© en JavaScript (et on ne va pas se priver !)</li>
                    <li>Un arbre contient des n≈ìuds, chaque n≈ìud a un parent (sauf le n≈ìud racine). Chaque balise html
                        sera transform√©e en n≈ìud dans le DOM, on pourra ensuite acc√©der √† son n≈ìud parent (la
                        balise englobante), et √† ses
                        enfants (les balises englob√©es).
                    </li>
                </ul>
            </section>
        </section>
        <section>
            <section><h3>Compatibilit√©</h3></section>

            <section><h3>Support des navigateurs</h3>

                <a href="https://caniuse.com/" target="_blank">https://caniuse.com/</a>

            </section>
            <section>
                <h3>Compatibilit√© : Modernizr</h3>

                <p>D√©tecte le support d'une fonctionnalit√© par le navigateur</p>

                <p><a href="https://modernizr.com/">https://modernizr.com/</a></p>

                <ul class="small">
                    <li>Au moment d'afficher la page chez l'utilisateur, r√©pond √† la question : Le navigateur supporte
                        t'il la
                        fonctionnalit√© X ?
                    </li>
                    <li>Pivot de l'am√©lioration progressive (progressive enhancement)</li>
                    <li>Plus fin que la d√©tection de user-agent navigateur</li>
                </ul>

            </section>
            <section><h3>Compatibilit√© : Polyfills</h3>

                Ajoute en JavaScript une fonctionnalit√© native qu'un navigateur n'impl√©mente pas

                <pre><code data-trim class="html">
                üîé &lt;nom_fonctionalit√©> polyfill &lt;navigateur_cible>
                </code></pre>
            </section>
            <section><h3>Compatibilit√© : BabelJS</h3>

                <p>Permet de faire fonctionner une version r√©cente de javascript (ES6) sur un navigateur qui ne le
                    supporte.</p>

                <a href="https://babeljs.io/">https://babeljs.io/</a>
            </section>
            <section>
                <h3>Quelques mots cl√©s</h3>
                <ul>
                    <li>Biblioth√®que (<i lang="en">Library</i>)&nbsp;: A utiliser en l'√©tat</li>
                    <li>Framework&nbsp;: Impose une mani√®re de faire</li>
                    <li>Boilerplate&nbsp;: Squelette d'application pr√© construit</li>
                    <li>Generators&nbsp;: initialise une appli sur mesure</li>
                </ul>
            </section>
        </section>
        <section>
            <section><h2>Architecture orient√©e composants</h2></section>
            <section class="small">Approche traditionnelle : progressive enhancement (am√©lioration progressive). On part
                d'une page web 100 % HTML et CSS, des scripts JavaScript viennent enrichir le comportement du HTML en se
                branchant sur l'existant. Dans l'id√©e, le site internet devrait √™tre enti√®rement fonctionnel sans
                JavaScript.
            </section>
            <section class="small">Approche composant : plut√¥t que de d√©couper l'application en technologies et en
                couches, on la d√©coupe en composants. Chaque composant est lui m√™me une sous-application de
                l'application, il rassemble au m√™me endroit des donn√©es, des informations de rendu (HTML, CSS), et des
                comportements (JS). Il peut lui m√™me contenir des sous-composants.
            </section>
            <section class="small">La communication naturelle entre composants est descendante : un composant parent
                envoi une information au composant enfant en lui passant une props
            </section>
            <section class="small">La communication transverse est possible via JavaScript. Diff√©rentes techniques
                existent : entrep√¥t de donn√©es (store), Syst√®me d'√©v√©nement global, Contextes (React).
            </section>
            <section class="small">La communication ascendante est possible, cependant le parent doit donner une
                opportunit√© de r√©ponse au composant enfant (fonction de rappel <em>ou callback</em>)
            </section>
        </section>
        <section>
            <section><h2>Conception r√©active</h2></section>
            <section>
                <div>Pourquoi React et autres frameworks sont-ils populaires ? En grande partie grace √†
                    leur mode de conception "d√©claratif" ou "reactif".
                </div>
                <div class="small">En effet, l'architecture orient√©e compos√©e tel que le propose React permet de
                    d√©clarer l'affichage
                    tel qu'on le veut en fonction des donn√©es. <code>rendu = fonction(props, stats)</code>. Cette forme
                    de conception s'oppose √† la programmation imp√©rative qui d√©crit des suites de transformations. Ici
                    on change la donn√©e, et le framwork se charge de transformer le rendu automatiquement pour
                    correspondre √† la nouvelle description.
                </div>
            </section>
        </section>
        <section>
            <section><h2>Composants</h2></section>
            <section>
                <ul class="small">
                    <li>
                        Un composant est une brique applicative autonome vis √† vis de son rendu et de
                        son interactibilit√©.
                    </li>
                    <li>Par convention, son nom commencera toujours par une majuscule. Il est fr√©quent d'utiliser une
                        majuscule pour le nom de fichier √©galement
                    </li>
                    <li>Il peut lire des donn√©es lui venant de son parent (<code>this.props</code>)</li>
                    <li>Il peut lire des donn√©es statiques immuables (constantes internes ou import√©es)</li>
                    <li>Il peut lire et √©crire dans un √©tat interne propre (<code>this.state</code>) qu'il utilisera
                        pour le rendu de donn√©es dynamiques transverses (ex: retour d'√©v√©n√©ment click)
                    </li>
                    <li>La modification du state doit se faire explicitement en React: <code>this.setState({myKey:
                        'data')</code> et ne dois jamais √™tre faite dans la fonction de rendu
                    </li>
                    <li>
                        <a href="https://fr.reactjs.org/docs/components-and-props.html">Doc React sur les composants</a>
                        <a href="https://fr.reactjs.org/docs/state-and-lifecycle.html">Doc React sur les cycles de
                            vie</a>
                    </li>
                </ul>
            </section>
            <section>
                <h3>Listes et c√©s</h3>
                <div><a href="https://fr.reactjs.org/docs/lists-and-keys.html">Listes et cl√©s (doc React)</a></div>
            </section>
            <section>
                <h3>Performances</h3>
                <div><a href="https://fr.reactjs.org/docs/optimizing-performance.html#avoid-reconciliation">√âviter la
                    r√©conciliation (doc React)</a></div>
                <div><a href="https://fr.reactjs.org/docs/react-api.html#reactpurecomponent">Pure components et
                    react.memo (doc React)</a></div>
            </section>
            <section>
                <h3>Formulaires</h3>
                <div><a href="https://fr.reactjs.org/docs/forms.html">Formulaires (doc React)</a></div>
                <div>Pr√©f√©rer l'utilisation de composants contr√¥l√©s, plus faciles √† int√©grer dans une logique
                    d√©clarative.
                </div>
            </section>

        </section>
        <section>
            <section><h2>Routage</h2></section>
            <section class="small">
                <ul>
                    <li>Router consiste √† faire correspondre une URL √† une "page".</li>
                    <li>Dans une application web, la notion de "page" est parfois floue voire inexistante. Dans le cas,
                        le routage fera r√©f√©rence √† l'association entre une URL et un √©tat sp√©cifique de l'application.
                    </li>
                    <li>L'association URL / page est √† d√©finir ensemble entre le d√©veloppeur et le responsable du
                        produit.
                    </li>
                </ul>
            </section>
            <section>
                <ul class="small">
                    <li>Router revient donc √† :
                        <ul>
                            <li>Lorsqu'on arrive sur la page, <br/>=> mettre l'application
                                dans un √©tat prenant en compte les param√®tres d'ur
                            </li>
                            <li>Lors d'une action de navigation qui ne recharge pas la page, <br/>=> mettre √† jour l'url
                                et
                                mettre l'application dans un √©tat prenant en compte les param√®tres d'url
                            </li>
                            <li>Si application web (SPA): indiquer au serveur que toutes les URL doivent redirifer vers
                                le m√™me point d'entr√©e.
                            </li>
                        </ul>
                    </li>
                    <li>Pour √©couter un changement d'url :
                        <ul>
                            <li>
                                Au chargement de la page: dans un script ex√©cut√© d√®s le chargement
                            </li>
                            <li>Lors d'une action de navigation interne: <a
                                    href="https://developer.mozilla.org/fr/docs/Web/API/Window/popstate_event">window.addEventListener("popstate",
                                event => {})</a>
                            </li>
                        </ul>
                    </li>
                    <li>Pour manipuler l'url: <a href="https://caniuse.com/#search=history">history.pushState(null,
                        event.target.pathname, event.target.pathname)</a>
                    </li>
                </ul>
            </section>
            <section>
                <a href="https://github.com/Lythom/svelte-chat-client/commit/f3afbcbb7e805aadea328bc5b6a2bed785ca2ca0">Exemple
                    sur Github</a>
            </section>
        </section>
        <section>
            <section><h2>Architecture applicative</h2></section>
            <section>
                <ul class="small">
                    <li>App
                        <ul>
                            <li>Components <code>=> app agnostic</code>
                                <ul>
                                    <li>MyComponent</li>
                                </ul>
                            </li>
                            <li>MyLayoutComponent <code>=> app specific</code>
                                <ul>
                                    <li>MyLayoutSpecificComponent <code>=> can use MyComponent</code></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
        </section>

    </div>
</div>


<script src="js/reveal.js"></script>
<script src="plugin/markdown/marked.js"></script>
<script src="plugin/markdown/markdown.js"></script>

<script>
    // More info about config & dependencies:
    // - https://github.com/hakimel/reveal.js#configuration
    // - https://github.com/hakimel/reveal.js#dependencies

    Reveal.initialize({
        history: true,
        dependencies: [
            {src: 'plugin/notes/notes.js', async: true},
            {
                src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                    hljs.initHighlightingOnLoad();
                }
            }
        ],
        markdown: {
            sanitize: false,
            smartypants: false,
        }
    });


</script>
</body>
</html>
